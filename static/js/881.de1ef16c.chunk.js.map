{"version":3,"file":"static/js/881.de1ef16c.chunk.js","mappings":"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","sources":["NewsApiService.js","webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["const API_KEY = 'f250076af8e178f34eb0c5b722a66f8c';\n\nexport const getTrending = () => {\n  return fetch(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`\n  )\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        throw new Error('Response was not ok.');\n      }\n    });\n    \n}\nexport const getSearchMovies = e => {\n  return fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${e}`\n  )\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        throw new Error('Response was not ok.');\n      }\n    });\n    \n};\n\nexport const getMovieDetails = movieId => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    } else {\n      throw new Error('Response was not ok.');\n    }\n  });\n};\n\nexport const getMovieCredits = movieId => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${API_KEY}`\n  )\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        throw new Error('Response was not ok.');\n      }\n    })\n    .then(data => data.cast);\n};\n\nexport const getMovieReviews = movieId => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${API_KEY}`\n  )\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        throw new Error('Response was not ok.');\n      }\n    })\n    .then(data => data.results);\n};","// extracted by mini-css-extract-plugin\nexport default {\"moviesList\":\"MoviesList_moviesList__P6SP5\",\"item\":\"MoviesList_item__eePYv\"};","import { Link, useLocation } from 'react-router-dom';\nimport css from './MoviesList.module.css'\n\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <ul className={css.moviesList}>\n      {movies.map(movie => (\n        <li key={movie.id}>\n          <Link\n            state={{ from: location }}\n            className={css.item}\n            to={`/movies/${movie.id}`}\n          >\n            {movie.title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\n\nexport default MoviesList;","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Movies_section__bjPDA\",\"title\":\"Movies_title__MDLXB\"};","import React, { useState, useEffect } from 'react';\n\nimport { getSearchMovies } from 'NewsApiService';\nimport css from './Movies.module.css';\nimport MoviesList from 'components/MoviesList/MoviesList';\nconst { useSearchParams } = require('react-router-dom');\nconst Movies = () => {\n  \n  const [movies, setMovies] = useState([]);\n  const [status, setStatus] = useState('idle');\n  const [error, setError] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  \n  useEffect(() => {\n    if (!query) return;\n    async function uploadMovies(query) {\n      \n      try {\n        const data = await getSearchMovies(query);\n        const movies = data.results;\n        if (!data.total_results) {\n          throw new Error('No data');\n        } else {\n          setMovies(movies);\n          setStatus('resolved');\n        }\n      } catch (error) {\n        setError(error.message);\n        setStatus('rejected');\n      } finally {\n        \n      }\n    }\n    uploadMovies(query);\n  }, [query]);\n\n\n\n\n\n  const handleSubmit = inputValue => {\n    inputValue.preventDefault();\n    if (!inputValue) {\n      setSearchParams({});\n      setMovies([]);\n    } else {\n      setSearchParams({ query: inputValue });\n    }\n  };\n  \n\n  return (\n    <div className={css.section}>\n      <h2 className={css.title}>Search Movies</h2>\n     \n      <input\n        className={css.input}\n        type=\"text\"\n        value={query}\n        onChange={e => setSearchParams({ query: e.target.value })}\n        \n      />\n      <button className={css.button} onClick={handleSubmit}>\n        Search\n      </button>\n     \n      <MoviesList movies={movies}></MoviesList>\n      {error && <h2>{error} There are not movies</h2>}\n      {movies.length === 0 && status === 'resolved' && (\n        <h3>Nothing was found. Please try another search.</h3>\n      )}\n    </div>\n  );\n};\n\nexport default Movies;"],"names":["API_KEY","getTrending","fetch","then","response","ok","json","Error","getSearchMovies","e","getMovieDetails","movieId","getMovieCredits","data","cast","getMovieReviews","results","movies","location","useLocation","className","css","map","movie","Link","state","from","to","id","title","useSearchParams","require","useState","setMovies","status","setStatus","error","setError","searchParams","setSearchParams","query","get","useEffect","total_results","message","uploadMovies","type","value","onChange","target","onClick","inputValue","preventDefault","MoviesList","length"],"sourceRoot":""}