"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[881],{43:function(e,t,n){n.d(t,{Hg:function(){return o},TP:function(){return i},V0:function(){return s},tx:function(){return a},zv:function(){return c}});var r="f250076af8e178f34eb0c5b722a66f8c",o=function(){return fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(r)).then((function(e){if(e.ok)return e.json();throw new Error("Response was not ok.")}))},s=function(e){return fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(r,"&query=").concat(e)).then((function(e){if(e.ok)return e.json();throw new Error("Response was not ok.")}))},i=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(r)).then((function(e){if(e.ok)return e.json();throw new Error("Response was not ok.")}))},c=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(r)).then((function(e){if(e.ok)return e.json();throw new Error("Response was not ok.")})).then((function(e){return e.cast}))},a=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(r)).then((function(e){if(e.ok)return e.json();throw new Error("Response was not ok.")})).then((function(e){return e.results}))}},155:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(689),o=n(87),s="MoviesList_moviesList__P6SP5",i="MoviesList_item__eePYv",c=n(184),a=function(e){var t=e.movies,n=(0,r.TH)();return(0,c.jsx)("ul",{className:s,children:t.map((function(e){return(0,c.jsx)("li",{children:(0,c.jsx)(o.Link,{state:{from:n},className:i,to:"/movies/".concat(e.id),children:e.title})},e.id)}))})}},881:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(861),o=n(439),s=n(757),i=n.n(s),c=n(791),a=n(43),u={section:"Movies_section__bjPDA",title:"Movies_title__MDLXB"},h=n(155),f=n(184),l=n(87).useSearchParams,p=function(){var e,t=(0,c.useState)([]),n=(0,o.Z)(t,2),s=n[0],p=n[1],v=(0,c.useState)("idle"),d=(0,o.Z)(v,2),m=d[0],k=d[1],w=(0,c.useState)(""),_=(0,o.Z)(w,2),j=_[0],x=_[1],b=l(),y=(0,o.Z)(b,2),g=y[0],N=y[1],E=null!==(e=g.get("query"))&&void 0!==e?e:"";(0,c.useEffect)((function(){function e(){return e=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,a.V0)(t);case 3:if(n=e.sent,r=n.results,n.total_results){e.next=9;break}throw new Error("No data");case 9:p(r),k("resolved");case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),x(e.t0.message),k("rejected");case 17:return e.prev=17,e.finish(17);case 19:case"end":return e.stop()}}),e,null,[[0,13,17,19]])}))),e.apply(this,arguments)}E&&function(t){e.apply(this,arguments)}(E)}),[E]);return(0,f.jsxs)("div",{className:u.section,children:[(0,f.jsx)("h2",{className:u.title,children:"Search Movies"}),(0,f.jsx)("input",{className:u.input,type:"text",value:E,onChange:function(e){return N({query:e.target.value})}}),(0,f.jsx)("button",{className:u.button,onClick:function(e){e.preventDefault(),e?N({query:e}):(N({}),p([]))},children:"Search"}),(0,f.jsx)(h.Z,{movies:s}),j&&(0,f.jsxs)("h2",{children:[j," There are not movies"]}),0===s.length&&"resolved"===m&&(0,f.jsx)("h3",{children:"Nothing was found. Please try another search."})]})}}}]);
//# sourceMappingURL=881.de1ef16c.chunk.js.map